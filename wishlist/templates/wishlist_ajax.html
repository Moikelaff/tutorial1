<!doctype html>
<html lang="en">



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wishlist</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="jquery-3.6.0.min.js"></script>
    {% extends 'base.html' %} {% block meta %}
    <script>
        function yaa(event) {
            event.preventDefault()
            $.post("/ajax/submit/", {
                nama_barang: document.getElementById('nama_barang').value,
                harga_barang: document.getElementById('harga_barang').value,
                deskripsi: document.getElementById('deskripsi_barang').value,
            }, );
            return false;
        }
    </script>
    <script type="text/javascript">
        function refresh() {
            $.ajax({
                type: "GET",
                url: 'wishlist/json/',
                dataType: "json",
                success: function(data) {
                    datanya = data
                }
            });
            return datanya;
        }

        function refresh2() {
            var datanya = refresh();
            var itemHtml = "<table> <tr> <th>Nama Barang</th> <th>Harga Barang</th> <th>Deskripsi</th> </tr>";
            for (var i = 0; i < datanya.length; i++) {
                var item = datanya[i].fields;
                itemHtml += '<tr> <th>' + item.nama_barang + '<tr> <th>' + item.harga_barang + '<tr> <th>' + item.deskripsi + '</th> </tr>';
            }
            itemHtml += "</table>";
            $('#dylan').html(itemHtml);
        }
    </script>
    {% endblock meta %}
</head>

<body>
    {% block content %}
    <h5>Nama: {{nama}}</h5>
    <br>
    <button onlick="refresh2()">get data</button>
    <div id="dylan"></div>
    <br>
    <br> form
</body>
<!-- <body>
    {% extends 'base.html' %} {% load static %} {% block content %}

    <button class="button1">send a HTTP GET request and get the result back</button>
     <table>
        <tr>
            <th>Nama Barang</th>
            <th>Harga Barang</th>
            <th>Deskripsi</th>
        </tr>
        {% comment %} Tambahkan data di bawah baris ini {% endcomment %} {% for barang in list_barang %}
        <tr>
            <th>{{barang.nama_barang}}</th>
            <th>{{barang.harga_barang}}</th>
            <th>{{barang.deskripsi}}</th>
        </tr>
        {% endfor %}
    </table> -->
<!-- <h5>Sesi terakhir login: {{ last_login }}</h5>
    <button><a href="{% url 'wishlist:logout' %}">Logout</a></button> {% endblock content %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>

</body> -->

<!-- delete loop // loop ada di script -->

<!-- function refresh() ajax ({ type: get url: wishlist/json datatype json success: functuin(data) return datanya; function refresh2() { databya refresh(); var datanya = refesh(); var itemhtml= bawah
<table> tr th nama </table>
for loop i < datanya.length; var item=d atanya[i].fields; itemHTML +=" '<tr> th<> " + item.nama_barang} + th th })) -->-->